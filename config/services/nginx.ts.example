import { createStack } from "../src/Service.js"
import { getDomain } from "../src/config-reader.js"

// Example: Static website with redirections
// This shows how to serve static content and set up domain redirections
// Domain is automatically read from .swarm-config
const domain = getDomain()

export default createStack("nginx")
  .addService("nginx", 80)
  .addRoute(`static.${domain}`) // serve some static assets (e.g. a static web site or images)
  .addRedirection(domain, `https://www.${domain}`) // a redirection to the www. version
  .addRedirection(`other.${domain}`, `https://static.${domain}`) // another redirection
